<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<script src="ajax.js"></script>
<script>


window.onload=function()
{
	var oBtn=document.getElementById('btn');
	var oUl=document.getElementById('ul1');
	
	
	oBtn.onclick=function()
	{
		ajax('news.txt?'+Math.random(), function(str){
			var arr=eval('('+str+')');
			
			for(var i=0;i<arr.length;i++)
			{
				var oLi=document.createElement('li');	
				oUl.appendChild(oLi);
				
				var json=arr[i];
				
				oLi.innerHTML='<h1>'+json.title+'</h1>';
				
				var oP=document.createElement('p');
				oLi.appendChild(oP);
				
				for(var j=0;j<json.child.length;j++)
				{
					oP.innerHTML+='<span>'+json.child[j]+'</span>';
				}
				
			}	
			
		}, function(){
			alert('获取新闻失败');	
		})	
	};
	
	
	
	
	
		
};


</script>
<style>
*{margin:0;padding:0}
li{ list-style:none;margin-bottom:10px; overflow:hidden;}
h1{ color:#C0F}
span{ float:left;margin-right:10px;}

</style>
</head>

<body>
<input type="button" value="点击" id="btn">
<ul id="ul1">
	
   <!--<li>
   	  <h1>我是标题11111</h1>
      <p><span>内容1111</span><span>内容2222</span><span>内容33333</span></p>
   </li> -->


</ul>

</body>
</html>









