<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
*{margin:0;padding:0}
#box1{width:400px;height:400px; background:#ccc;margin:50px;padding:15px;}
#box2{width:200px;height:200px;padding:10px; background:blue; }
#box3{width:50px;height:50px; background:red;}
</style>
<script>
window.onload=function()
{
	var oBox3=document.getElementById('box3');
    oBox3.onclick=function()
	{
		//就算没有定位，自身也会有top和left值
	   alert( getPos(oBox3).top );	
	   
	   //   offsetParent  有定位的父级
	};
	
};

//求绝对位置
function getPos(obj)
{
    var t=0;
	var l=0;
	
	while(obj)
	{
	     t+=obj.offsetTop;
		 l+=obj.offsetLeft;
	   	 obj=obj.offsetParent;
	};
	
	return {left:l,top:t};
		
}

</script>
</head>

<body id="body1">
<div id="box1">

    <div id="box2">
    		<div id="box3">
            </div>
    </div>

</div>
</body>
</html>
